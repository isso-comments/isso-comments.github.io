<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Server Configuration</title> 
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/site.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/isso.svg"/>
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="top" title="Isso  documentation" href="../../../" />
    <link rel="next" title="Client Configuration" href="../client-config/" />
    <link rel="prev" title="Installation" href="../installation/" />
</head>
<body>
    <div class="wrapper">
        <div class="header">
            <header>
                <img class="logo" src="../../../_static/isso.svg" alt="Wynaut by @veekun"/>
                <div class="title">
                    <a href="../../.././">
                        <h1>Isso</h1>
                        <h2>a commenting server similar to Disqus</h2>
                    </a>
                </div>
            </header>
            <nav>
                <a href="../../">Documentation</a>
                <a href="../../../news/">News</a>
                <a href="../../contributing/">Contribute</a>
                <a href="../../../community/">community</a>
            </nav>
        </div>

        <div class="outer">
            
    <header>
        <h1>Server Configuration</h1>
    </header>

        </div>


        <main>
        
            
          <div role="navigation" class="sidebar">
<div role="search" id="searchbox" style="display: none">
  <h2>Quick search</h2>
    <form class="search" action="../../../search/" method="get">
      <input type="text"
             name="q"
             aria-labelledby="searchlabel"
             autocomplete="off"
             autocorrect="off"
             autocapitalize="off"
             spellcheck="false"
      />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
    <p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guides/quickstart/">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/tips-and-tricks/">Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/advanced-integration/">Advanced Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/faq/">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client-config/">Client Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multi-site-sub-uri/">Multiple Sites &amp; Sub-URI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-api/">Server API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../technical-docs/server/">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical-docs/client/">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical-docs/testing/">Development &amp; Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical-docs/testing-client/">Testing the Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical-docs/testing-server/">Testing the Server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/">Contributing to Isso</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/documentation/">Writing Documentation</a></li>
</ul>

          </div>

            <div class="docs">
                
<div class="vcs-edit-container">
<a href="https://github.com/posativ/isso/blob/master/docs/docs/reference/server-config.rst" class="vcs-edit"><img src="../../../_static/github.svg" /> Edit on GitHub</a>
</div>

                <div role="main">
                
                <section id="server-configuration">
<h2>Server Configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h2>
<p>The Isso configuration file is an <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI-style</a> textfile. It reads integers,
booleans, strings and lists. Here’s the default isso configuration:
<a class="reference external" href="https://github.com/posativ/isso/blob/master/isso/isso.cfg">isso.cfg</a>. A
basic configuration from scratch looks like this:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[general]</span><span class="w"></span>
<span class="na">dbpath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/var/lib/isso/comments.db</span><span class="w"></span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://example.tld/</span><span class="w"></span>
<span class="k">[server]</span><span class="w"></span>
<span class="na">listen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">http://localhost:1234/</span><span class="w"></span>
</pre></div>
</div>
<p>To use your configuration file with Isso, append <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">/path/to/cfg</span></code> to the
executable or run Isso with an environment variable:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>~&gt; isso -c path/to/isso.cfg
~&gt; env <span class="nv">ISSO_SETTINGS</span><span class="o">=</span>path/to/isso.cfg isso
</pre></div>
</div>
<p>Sections covered in this document:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#general" id="id5">General</a></p></li>
<li><p><a class="reference internal" href="#moderation" id="id6">Moderation</a></p></li>
<li><p><a class="reference internal" href="#server" id="id7">Server</a></p></li>
<li><p><a class="reference internal" href="#smtp" id="id8">SMTP</a></p></li>
<li><p><a class="reference internal" href="#guard" id="id9">Guard</a></p></li>
<li><p><a class="reference internal" href="#markup" id="id10">Markup</a></p></li>
<li><p><a class="reference internal" href="#hash" id="id11">Hash</a></p></li>
<li><p><a class="reference internal" href="#rss" id="id12">RSS</a></p></li>
<li><p><a class="reference internal" href="#admin" id="id13">Admin</a></p></li>
<li><p><a class="reference internal" href="#appendum" id="id14">Appendum</a></p></li>
</ul>
</div>
<section id="general">
<h3><a class="toc-backref" href="#id5">General</a><a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<p id="configure-general">In this section, you configure most comment-related options such as database path,
session key and hostname.</p>
<p>Here are the <strong>default values</strong> for this section:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[general]</span><span class="w"></span>
<span class="na">dbpath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/tmp/comments.db</span><span class="w"></span>
<span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">max-age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">15m</span><span class="w"></span>
<span class="na">notify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">stdout</span><span class="w"></span>
<span class="na">log-file</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">gravatar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
<span class="na">gravatar-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://www.gravatar.com/avatar/{}?d=identicon&amp;s=55</span><span class="w"></span>
<span class="na">latest-enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>dbpath</dt><dd><p>File location to the SQLite3 database, highly recommended to change this
location to a non-temporary location!</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">/tmp/comments.db</span></code></p>
</dd>
<dt>name</dt><dd><p>Required to dispatch <a class="reference internal" href="../multi-site-sub-uri/#configure-multiple-sites"><span class="std std-ref">multiple websites</span></a>,
not used otherwise.</p>
<p>Default: (empty)</p>
</dd>
<dt>host</dt><dd><p>Your website(s). If Isso is unable to connect to at least one site, you’ll
get a warning during startup and comments are most likely non-functional.</p>
<p>You’ll need at least one host/website to run Isso. This is due to security
reasons: Isso uses <a class="reference external" href="https://developer.mozilla.org/en/docs/HTTP/Access_control_CORS">CORS</a> to embed comments and to restrict comments only to
your website, you have to “whitelist” your website(s).</p>
<p>I recommend the first value to be a non-SSL website that is used as fallback
if Firefox users (and only those) supress their HTTP referer completely.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[general]</span><span class="w"></span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">http://example.tld/</span><span class="w"></span>
<span class="w">    </span><span class="na">https://example.tld/</span><span class="w"></span>
</pre></div>
</div>
<p>Default: (empty)</p>
</dd>
<dt>max-age</dt><dd><p>Time range that allows users to edit/remove their own comments. See
<a class="reference internal" href="#appendum-timedelta"><span class="std std-ref">Appendum: Timedelta</span></a> for valid values.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">15m</span></code></p>
</dd>
<dt>notify</dt><dd><p>Select notification backend(s) for new comments, separated by comma.
Available backends:</p>
<dl class="simple">
<dt>stdout</dt><dd><p>Log to standard output. Default, if none selected. Note, this
functionality is broken since a few releases.</p>
</dd>
<dt>smtp</dt><dd><p>Send notifications via SMTP on new comments with activation (if
moderated) and deletion links.</p>
</dd>
</dl>
<p>Default: <code class="docutils literal notranslate"><span class="pre">stdout</span></code></p>
</dd>
<dt>reply-notifications</dt><dd><p>Allow users to request E-mail notifications for replies to their post.</p>
<p>It is highly recommended to also turn on moderation when enabling this
setting, as Isso can otherwise be easily exploited for sending spam.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>log-file</dt><dd><p>Log console messages to file instead of standard out.</p>
<p>Default: (empty)</p>
</dd>
<dt>gravatar</dt><dd><p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code> this will add the property “gravatar_image”
containing the link to a gravatar image to every comment. If a comment
does not contain an email address, gravatar will render a random icon.
This is only true when using the default value for “gravatar-url”
which contains the query string param <code class="docutils literal notranslate"><span class="pre">d=identicon</span></code> …</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>gravatar-url</dt><dd><p>Url for gravatar images. The <code class="docutils literal notranslate"><span class="pre">{}</span></code> is where the email hash will be placed.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">https://www.gravatar.com/avatar/{}?d=identicon&amp;s=55</span></code></p>
</dd>
<dt>latest-enabled</dt><dd><p>If true it will enable the <code class="docutils literal notranslate"><span class="pre">/latest</span></code> endpoint.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</section>
<section id="moderation">
<span id="configure-moderation"></span><h3><a class="toc-backref" href="#id6">Moderation</a><a class="headerlink" href="#moderation" title="Permalink to this headline">¶</a></h3>
<p>Enable moderation queue and handling of comments still in moderation queue</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[moderation]</span><span class="w"></span>
<span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
<span class="na">approve-if-email-previously-approved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
<span class="na">purge-after</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30d</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>enabled</dt><dd><p>Enable comment moderation queue. This option only affects new comments.
Comments in moderation queue are not visible to other users until you
activate them.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>approve-if-email-previously-approved</dt><dd><p>Automatically approve comments by an email address if that address has
had a comment approved within the last 6 months. No ownership verification
is done on the entered email address. This means that if someone is able
to guess correctly the email address used by a previously approved author,
they will be able to have their new comment auto-approved.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>purge-after</dt><dd><p>Remove unprocessed comments in moderation queue after given time.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">30d</span></code></p>
</dd>
</dl>
</section>
<section id="server">
<span id="configure-server-block"></span><h3><a class="toc-backref" href="#id7">Server</a><a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h3>
<p>HTTP server configuration.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[server]</span><span class="w"></span>
<span class="na">listen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">http://localhost:8080</span><span class="w"></span>
<span class="na">public-endpoint</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">reload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">off</span><span class="w"></span>
<span class="na">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">off</span><span class="w"></span>
<span class="na">trusted-proxies</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">samesite</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>listen</dt><dd><p>Interface to listen on. Isso supports TCP/IP and unix domain sockets:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; UNIX domain socket</span><span class="w"></span>
<span class="na">listen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">unix:///tmp/isso.sock</span><span class="w"></span>
<span class="c1">; TCP/IP</span><span class="w"></span>
<span class="na">listen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">http://localhost:1234/</span><span class="w"></span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">gevent</span></code> is available, it is automatically used for <cite>http://</cite>
Currently, gevent can not handle http requests on unix domain socket
(see <a class="reference external" href="https://github.com/surfly/gevent/issues/295">#295</a> and
<a class="reference external" href="https://github.com/surfly/gevent/issues/299">#299</a> for details).</p>
<p>Does not apply for <cite>uWSGI</cite>.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">http://localhost:8080</span></code></p>
</dd>
<dt>public-endpoint</dt><dd><p>Public URL that Isso is accessed from by end users. Should always be
a <a class="reference external" href="http://">http://</a> or <a class="reference external" href="https://">https://</a> absolute address. If left blank, automatic
detection is attempted. Normally only needs to be specified if
different than the <code class="docutils literal notranslate"><span class="pre">listen</span></code> setting.</p>
<p>Default: (empty)</p>
</dd>
<dt>reload</dt><dd><p>Reload application, when the source code has changed. Useful for
development. Only works with the internal webserver.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">off</span></code></p>
</dd>
<dt>profile</dt><dd><p>Show 10 most time consuming function in Isso after each request. Do
not use in production.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">off</span></code></p>
</dd>
<dt>trusted-proxies</dt><dd><p>An optional list of reverse proxies IPs behind which you have deployed
your Isso web service (e.g. <cite>127.0.0.1</cite>).
This allow for proper remote address resolution based on a
<cite>X-Forwarded-For</cite> HTTP header, which is important for the mechanism
forbiding several comment votes coming from the same subnet.</p>
<p>Default: (empty)</p>
</dd>
<dt>samesite</dt><dd><p>Override <code class="docutils literal notranslate"><span class="pre">Set-Cookie</span></code> header <code class="docutils literal notranslate"><span class="pre">SameSite</span></code> value.
Needed for setups where isso is not hosted on the same domain, e.g. called
from example.org and hosted under comments.example.org.
By default, isso will set <code class="docutils literal notranslate"><span class="pre">SameSite=None</span></code> when served over https and
<code class="docutils literal notranslate"><span class="pre">SameSite=Lax</span></code> when served over http
(see <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite">MDM: SameSite</a>
and <a class="reference external" href="https://github.com/posativ/isso/issues/682">#682</a> for details).</p>
<p>Accepted values: <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">Lax</span></code>, <code class="docutils literal notranslate"><span class="pre">Strict</span></code></p>
<p>Default: (empty)</p>
</dd>
</dl>
</section>
<section id="smtp">
<span id="configure-smtp"></span><h3><a class="toc-backref" href="#id8">SMTP</a><a class="headerlink" href="#smtp" title="Permalink to this headline">¶</a></h3>
<p>Isso can notify you on new comments via SMTP. In the email notification, you
also can moderate (=activate or delete) comments. Don’t forget to configure
<code class="docutils literal notranslate"><span class="pre">notify</span> <span class="pre">=</span> <span class="pre">smtp</span></code> in the general section.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[smtp]</span><span class="w"></span>
<span class="na">username</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">localhost</span><span class="w"></span>
<span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">587</span><span class="w"></span>
<span class="na">security</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">starttls</span><span class="w"></span>
<span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">from</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>username</dt><dd><p>Self-explanatory, <em>optional</em></p>
<p>Default: (empty)</p>
</dd>
<dt>password</dt><dd><p>self-explanatory (yes, plain text, create a dedicated account for
notifications), <em>optional</em>.</p>
<p>Default: (empty)</p>
</dd>
<dt>host</dt><dd><p>SMTP server</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">localhost</span></code></p>
</dd>
<dt>port</dt><dd><p>SMTP port</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">587</span></code></p>
</dd>
<dt>security</dt><dd><p>Use a secure connection to the server.</p>
<p>Accepted values: <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">starttls</span></code>, <code class="docutils literal notranslate"><span class="pre">ssl`</span></code></p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">starttls</span></code></p>
</dd>
<dt>to</dt><dd><p>Recipient address, e.g. your email address</p>
<p>Default: (empty)</p>
</dd>
<dt>from</dt><dd><p>Sender address, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Foo</span> <span class="pre">Bar&quot;</span> <span class="pre">&lt;isso&#64;example.tld&gt;</span></code></p>
<p>Default: (empty)</p>
</dd>
<dt>timeout</dt><dd><p>Specify a timeout in seconds for blocking operations like the
connection attempt.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
</section>
<section id="guard">
<h3><a class="toc-backref" href="#id9">Guard</a><a class="headerlink" href="#guard" title="Permalink to this headline">¶</a></h3>
<p>Enable basic spam protection features, e.g. rate-limit per IP address (<code class="docutils literal notranslate"><span class="pre">/24</span></code>
for IPv4, <code class="docutils literal notranslate"><span class="pre">/48</span></code> for IPv6).</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[guard]</span><span class="w"></span>
<span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span><span class="w"></span>
<span class="na">ratelimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2</span><span class="w"></span>
<span class="na">direct-reply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">3</span><span class="w"></span>
<span class="na">reply-to-self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
<span class="na">require-author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
<span class="na">require-email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>enabled</dt><dd><p>Enable guard, recommended in production. Not useful for debugging
purposes.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
<dt>ratelimit</dt><dd><p>Limit to N new comments per minute.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd>
<dt>direct-reply</dt><dd><p>How many comments directly to the thread (prevent a simple
<cite>while true; do curl …; done</cite>.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
<dt>reply-to-self</dt><dd><p>Allow commenters to reply to their own comments when they could still edit
the comment. After the editing timeframe is gone, commenters can reply to
their own comments anyways.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>require-author</dt><dd><p>Force commenters to enter a value into the author field. No validation is
performed on the provided value.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>require-email</dt><dd><p>Force commenters to enter a value into the email field. No validation is
performed on the provided value.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</section>
<section id="markup">
<span id="configure-markup"></span><h3><a class="toc-backref" href="#id10">Markup</a><a class="headerlink" href="#markup" title="Permalink to this headline">¶</a></h3>
<p>Customize markup and sanitized HTML. Currently, only Markdown (via Misaka) is
supported, but new languages are relatively easy to add.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[markup]</span><span class="w"></span>
<span class="na">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">strikethrough, superscript, autolink, fenced-code</span><span class="w"></span>
<span class="na">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">skip-html, escape, hard-wrap</span><span class="w"></span>
<span class="na">allowed-elements</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">allowed-attributes</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>options</dt><dd><p><a class="reference external" href="https://misaka.61924.nl/#api">Misaka-specific Markdown extensions</a>, all
extension options can be used there, separated by comma, either by their
name (<code class="docutils literal notranslate"><span class="pre">fenced-code</span></code>) or as <code class="docutils literal notranslate"><span class="pre">EXT_FENCED_CODE</span></code>.</p>
<p>The <a class="reference external" href="https://flask-misaka.readthedocs.io/en/latest/#options">flask-misaka docs</a>
have a good explanation of what each extension options does.</p>
<p>Note: Use e.g. <code class="docutils literal notranslate"><span class="pre">fenced-code</span></code> (with a <code class="docutils literal notranslate"><span class="pre">-</span></code> dash) instead of
<code class="docutils literal notranslate"><span class="pre">fenced_code</span></code> (underline) to refer to extension names.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">strikethrough,</span> <span class="pre">superscript,</span> <span class="pre">autolink,</span> <span class="pre">fenced-code</span></code></p>
</dd>
<dt>flags</dt><dd><p><a class="reference external" href="https://misaka.61924.nl/#html-render-flags">Misaka-specific HTML rendering flags</a>, all html rendering flags
can be used here, separated by comma, either by their name (<code class="docutils literal notranslate"><span class="pre">hard-wrap</span></code>)
or as e.g. <code class="docutils literal notranslate"><span class="pre">HTML_HARD_WRAP</span></code>.</p>
<p>Default: (empty)</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.12.4.</span></p>
</div>
</dd>
<dt>allowed-elements</dt><dd><p><strong>Additional</strong> HTML tags to allow in the generated output, comma-separated.</p>
<p>By default, only <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">blockquote</span></code>, <code class="docutils literal notranslate"><span class="pre">br</span></code>, <code class="docutils literal notranslate"><span class="pre">code</span></code>, <code class="docutils literal notranslate"><span class="pre">del</span></code>, <code class="docutils literal notranslate"><span class="pre">em</span></code>,
<code class="docutils literal notranslate"><span class="pre">h1</span></code>, <code class="docutils literal notranslate"><span class="pre">h2</span></code>, <code class="docutils literal notranslate"><span class="pre">h3</span></code>, <code class="docutils literal notranslate"><span class="pre">h4</span></code>, <code class="docutils literal notranslate"><span class="pre">h5</span></code>, <code class="docutils literal notranslate"><span class="pre">h6</span></code>, <code class="docutils literal notranslate"><span class="pre">hr</span></code>, <code class="docutils literal notranslate"><span class="pre">ins</span></code>, <code class="docutils literal notranslate"><span class="pre">li</span></code>,
<code class="docutils literal notranslate"><span class="pre">ol</span></code>, <code class="docutils literal notranslate"><span class="pre">p</span></code>, <code class="docutils literal notranslate"><span class="pre">pre</span></code>, <code class="docutils literal notranslate"><span class="pre">strong</span></code>, <code class="docutils literal notranslate"><span class="pre">table</span></code>, <code class="docutils literal notranslate"><span class="pre">tbody</span></code>, <code class="docutils literal notranslate"><span class="pre">td</span></code>, <code class="docutils literal notranslate"><span class="pre">th</span></code>,
<code class="docutils literal notranslate"><span class="pre">thead</span></code> and <code class="docutils literal notranslate"><span class="pre">ul</span></code> are allowed.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This option (together with <code class="docutils literal notranslate"><span class="pre">allowed-attributes</span></code>) is frequently
misunderstood. Setting e.g. this list to only <code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">blockquote</span></code> will
mean that <code class="docutils literal notranslate"><span class="pre">br,</span> <span class="pre">code,</span> <span class="pre">del,</span> <span class="pre">...</span></code> and all other default allowed tags are
still allowed. You can only add <em>additional</em> elements here.</p>
<p>It is planned to change this behavior, see
<a class="reference external" href="https://github.com/posativ/isso/issues/751">this issue</a>.</p>
</div>
<p>Default: (empty)</p>
</dd>
<dt>allowed-attributes</dt><dd><p><strong>Additional</strong> HTML attributes (independent from elements) to allow in the
generated output, comma-separated.</p>
<p>By default, only <code class="docutils literal notranslate"><span class="pre">align</span></code> and <code class="docutils literal notranslate"><span class="pre">href</span></code> are allowed (same caveats as for
<code class="docutils literal notranslate"><span class="pre">allowed-elements</span></code> above apply)</p>
<p>Default: (empty)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To allow images in comments, you need to add
<code class="docutils literal notranslate"><span class="pre">allowed-elements</span> <span class="pre">=</span> <span class="pre">img</span></code> and <em>also</em> <code class="docutils literal notranslate"><span class="pre">allowed-attributes</span> <span class="pre">=</span> <span class="pre">src</span></code>.</p>
</div>
</section>
<section id="hash">
<h3><a class="toc-backref" href="#id11">Hash</a><a class="headerlink" href="#hash" title="Permalink to this headline">¶</a></h3>
<p>Customize used hash functions to hide the actual email addresses from
commenters but still be able to generate an identicon.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[hash]</span><span class="w"></span>
<span class="na">salt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Eech7co8Ohloopo9Ol6baimi</span><span class="w"></span>
<span class="na">algorithm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">pbkdf2</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>salt</dt><dd><p>A salt is used to protect against rainbow tables. Isso does not make use of
pepper (yet). The default value has been in use since the release of Isso
and generates the same identicons for same addresses across installations.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">Eech7co8Ohloopo9Ol6baimi</span></code></p>
</dd>
<dt>algorithm</dt><dd><p>Hash algorithm to use – either from Python’s <code class="docutils literal notranslate"><span class="pre">hashlib</span></code> or PBKDF2 (a
computational expensive hash function).</p>
<p>The actual identifier for PBKDF2 is <code class="docutils literal notranslate"><span class="pre">pbkdf2:1000:6:sha1</span></code>, which means
1000 iterations, 6 bytes to generate and SHA1 as pseudo-random family used
for key strengthening.
Arguments have to be in that order, but can be reduced to <code class="docutils literal notranslate"><span class="pre">pbkdf2:4096</span></code>
for example to override the iterations only.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">pbkdf2</span></code></p>
</dd>
</dl>
</section>
<section id="rss">
<span id="configure-rss"></span><h3><a class="toc-backref" href="#id12">RSS</a><a class="headerlink" href="#rss" title="Permalink to this headline">¶</a></h3>
<p>Isso can provide an Atom feed for each comment thread. Users can use
them to subscribe to comments and be notified of changes. Atom feeds
are enabled as soon as there is a base URL defined in this section.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[rss]</span><span class="w"></span>
<span class="na">base</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">100</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>base</dt><dd><p>Base URL to use to build complete URI to pages (by appending the URI from Isso)</p>
<p>Default: (empty)</p>
</dd>
<dt>limit</dt><dd><p>number of most recent comments to return for a thread</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
</section>
<section id="admin">
<h3><a class="toc-backref" href="#id13">Admin</a><a class="headerlink" href="#admin" title="Permalink to this headline">¶</a></h3>
<p id="configure-admin">Isso has an optional web administration interface that can be used to moderate
comments. The interface is available under <code class="docutils literal notranslate"><span class="pre">/admin</span></code> on your isso URL.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[admin]</span><span class="w"></span>
<span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span><span class="w"></span>
<span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">please_choose_a_strong_password</span><span class="w"></span>
</pre></div>
</div>
<dl>
<dt>enabled</dt><dd><p>Whether to enable the admin interface</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt>password</dt><dd><p>The plain text password to use for logging into the administration interface</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">please_choose_a_strong_password</span></code></p>
</dd>
</dl>
</section>
<section id="appendum">
<h3><a class="toc-backref" href="#id14">Appendum</a><a class="headerlink" href="#appendum" title="Permalink to this headline">¶</a></h3>
<dl id="appendum-timedelta">
<dt>Timedelta</dt><dd><p>A human-friendly representation of a time range: <cite>1m</cite> equals to 60
seconds. This works for years (y), weeks (w), days (d) and seconds (s),
e.g. <cite>30s</cite> equals 30 to seconds.</p>
<p>You can add different types: <cite>1m30s</cite> equals to 90 seconds, <cite>3h45m12s</cite>
equals to 3 hours, 45 minutes and 12 seconds (12512 seconds).</p>
</dd>
</dl>
</section>
</section>

                
                </div>
            </div>
        
        </main>

        <div class="push"></div>
    </div>

    <div class="outer footer">
        <footer>
        &copy; Copyright 2022, Martin Zimmermann & contributors.

        Made with <a href="http://sphinx-doc.org/">Sphinx</a>.
        </footer>
    </div>
  </body>
</html>